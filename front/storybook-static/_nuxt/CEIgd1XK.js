import{d as C,O as v,x as a,L as M,U as w,ae as $,ar as te,T as B,z as k,B as p,v as c,P as S,A as R,y as _,C as b,E as y,S as N,Q as L,aq as I,as as ae,R as ne,s as o,r as U,H as le,W as se,F as h}from"./BhoS_8da.js";import{_ as F}from"./CADcuymq.js";import{_ as D}from"./Dv_JhIDu.js";import{b as re,a as de,_ as ie}from"./BHjTxwOp.js";import{C as ue,U as me,D as pe,f as ce}from"./DYmndyt5.js";import{_ as fe}from"./CxP1Mprn.js";import{u as _e}from"./CmDf-aGC.js";const g={LOW:{value:1,label:"低",color:"info"},MEDIUM:{value:2,label:"中",color:"warning"},HIGH:{value:3,label:"高",color:"error"}},A=C({__name:"TodoCardPriorityLabel",props:{priority:{}},setup(e){const r=d=>{switch(d){case g.LOW.value:return"border-t-info";case g.MEDIUM.value:return"border-t-warning";case g.HIGH.value:return"border-t-error";default:return"border-t-transparent"}};return(d,t)=>(a(),v("div",{class:M(["absolute w-0 h-0 top-0 left-0 border-r-[0.9rem] border-r-transparent rounded-[4px_0_0_0] border-t-[0.9rem]",r(e.priority)])},null,2))}}),ve=Object.assign(A,{__name:"TodoCardPriorityLabel"});A.__docgenInfo={exportName:"default",displayName:"TodoCardPriorityLabel",description:"",tags:{},props:[{name:"priority",required:!0,type:{name:"PriorityValues"}}],sourceFiles:["/var/www/html/app/components/TodoCard/TodoCardPriorityLabel.vue"]};const j=C({__name:"BaseCheckbox",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(e){const r=w(e,"modelValue");return(d,t)=>$((a(),v("input",{"onUpdate:modelValue":t[0]||(t[0]=m=>r.value=m),type:"checkbox",class:"accent-primary cursor-pointer"},null,512)),[[te,r.value]])}}),ye=Object.assign(j,{__name:"BaseCheckbox"});j.__docgenInfo={exportName:"default",displayName:"BaseCheckbox",description:"",tags:{},sourceFiles:["/var/www/html/app/components/Base/BaseCheckbox.vue"]};const Te={class:"flex items-center gap-0.5 text-xs mt-1 ml-1"},q=C({__name:"TodoCardHeader",props:B({todo:{},isTrash:{type:Boolean,default:!1},isCompleted:{type:Boolean,default:!1}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:B(["onCheck"],["update:modelValue"]),setup(e,{emit:r}){const d=r,t=w(e,"modelValue");return(m,s)=>{const i=ye,f=F,u=D;return a(),v("div",{class:"flex items-center justify-between cursor-pointer p-2 transition-all hover:bg-primary-subtle",tabindex:"0",onClick:s[2]||(s[2]=x=>t.value=!t.value),onKeydown:s[3]||(s[3]=N(x=>t.value=!t.value,["enter"]))},[k("div",null,[e.isTrash?S("",!0):(a(),c(i,{key:0,"model-value":e.isCompleted,onClick:s[0]||(s[0]=R(()=>{},["stop"])),"onUpdate:modelValue":s[1]||(s[1]=x=>d("onCheck",x))},null,8,["model-value"])),p(f,{tag:"span",color:"primary",bold:"",class:"ml-1"},{default:_(()=>[b(y(e.todo.title),1)]),_:1}),k("div",Te,[p(u,{icon:"clock",color:"secondary","is-clickable":!1}),p(f,{size:"xs",color:"secondary"},{default:_(()=>[b(y(e.todo.due_date??"未設定"),1)]),_:1})])]),p(u,{icon:t.value?"angle-up":"angle-down","is-clickable":""},null,8,["icon"])],32)}}}),be=Object.assign(q,{__name:"TodoCardHeader"});q.__docgenInfo={exportName:"default",displayName:"TodoCardHeader",description:"",tags:{},props:[{name:"todo",required:!0,type:{name:"Todo"}},{name:"isTrash",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isCompleted",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"onCheck",type:{names:["boolean"]}}],sourceFiles:["/var/www/html/app/components/TodoCard/TodoCardHeader.vue"]};const Ce={class:"absolute top-4 right-4 flex gap-2"},H=C({__name:"TodoCardControls",props:B({isTrash:{type:Boolean,default:!1}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:B(["onTrash","onRestore"],["update:modelValue"]),setup(e,{emit:r}){const d=r,t=w(e,"modelValue");return(m,s)=>{const i=D;return a(),v("div",Ce,[e.isTrash?(a(),c(i,{key:1,color:"secondary",icon:"rotate-left","is-clickable":"",onClick:s[4]||(s[4]=f=>d("onRestore")),onKeydown:s[5]||(s[5]=N(f=>d("onRestore"),["enter"]))})):(a(),v(L,{key:0},[p(i,{color:"secondary",icon:"pen","is-clickable":"",onClick:s[0]||(s[0]=f=>t.value=!t.value),onKeydown:s[1]||(s[1]=N(f=>t.value=!t.value,["enter"]))}),p(i,{color:"error",icon:"trash","is-clickable":"",onClick:s[2]||(s[2]=f=>d("onTrash")),onKeydown:s[3]||(s[3]=N(f=>d("onTrash"),["enter"]))})],64))])}}}),xe=Object.assign(H,{__name:"TodoCardControls"});H.__docgenInfo={exportName:"default",displayName:"TodoCardControls",description:"",tags:{},props:[{name:"isTrash",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"onTrash"},{name:"onRestore"}],sourceFiles:["/var/www/html/app/components/TodoCard/TodoCardControls.vue"]};const Ve=["placeholder"],X=C({__name:"BaseTextarea",props:B({placeholder:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=w(e,"modelValue");return(d,t)=>$((a(),v("textarea",{"onUpdate:modelValue":t[0]||(t[0]=m=>r.value=m),placeholder:e.placeholder,class:"p-2 w-full rounded-md border border-neutral-subtle hover:bg-primary-subtle focus:ring-primary focus:border-transparent focus:outline-none focus:bg-white focus:ring-2 transition-all"},null,8,Ve)),[[I,r.value]])}}),ke=Object.assign(X,{__name:"BaseTextarea"});X.__docgenInfo={exportName:"default",displayName:"BaseTextarea",description:"",tags:{},props:[{name:"placeholder",required:!1,type:{name:"string"}}],sourceFiles:["/var/www/html/app/components/Base/BaseTextarea.vue"]};const ge=["value"],K=C({__name:"BaseSelect",props:B({options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=w(e,"modelValue");return(d,t)=>$((a(),v("select",{"onUpdate:modelValue":t[0]||(t[0]=m=>r.value=m),class:"cursor-pointer border px-2 py-1 transition-all border-neutral-subtle rounded-md hover:bg-primary-subtle focus:outline-none focus:border-transparent focus:ring-2 focus:ring-primary focus:bg-white"},[(a(!0),v(L,null,ne(e.options,m=>(a(),v("option",{key:m.id,value:m.id},y(m.name),9,ge))),128))],512)),[[ae,r.value]])}}),Be=Object.assign(K,{__name:"BaseSelect"});K.__docgenInfo={exportName:"default",displayName:"BaseSelect",description:"",tags:{},props:[{name:"options",required:!0,type:{name:"Array",elements:[{name:"SelectOption"}]}}],sourceFiles:["/var/www/html/app/components/Base/BaseSelect.vue"]};const we={class:"flex justify-center gap-2"},z=C({__name:"TodoCardFooter",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const r=w(e,"modelValue");return(d,t)=>{const m=re;return a(),v("div",we,[p(m,{text:"CANCEL_BUTTON_TEXT"in d?d.CANCEL_BUTTON_TEXT:o(ue),color:"secondary",onClick:t[0]||(t[0]=s=>r.value=!1)},null,8,["text"]),p(m,{text:"UPDATE_BUTTON_TEXT"in d?d.UPDATE_BUTTON_TEXT:o(me)},null,8,["text"])])}}}),Oe=Object.assign(z,{__name:"TodoCardFooter"});z.__docgenInfo={exportName:"default",displayName:"TodoCardFooter",description:"",tags:{},sourceFiles:["/var/www/html/app/components/TodoCard/TodoCardFooter.vue"]};const $e=e=>Object.values(g).find(r=>r.value===e)?.label??"不明",Ee=e=>Object.values(g).find(r=>r.value===e)?.color??"info",Ne={key:0,class:"relative p-4 border-t border-neutral-subtle"},Ue={class:"mr-20"},W=C({__name:"TodoCard",props:{todo:{},isTrash:{type:Boolean,default:!1},statuses:{}},emits:["onClickSubmit","onCheck","onTrash","onRestore"],setup(e,{emit:r}){const d=e,t=r,{validationErrors:m,clearErrorMessages:s}=_e(),i=U({...d.todo}),f=U(!1),u=U(!1),x=d.todo.status_id===pe.COMPLETED.value;return le(u,T=>{s(),T&&se(()=>{ce(".todo-title")})}),(T,n)=>{const Y=ve,G=be,Q=xe,J=de,V=F,Z=ke,P=Be,E=ie,ee=Oe,oe=fe;return a(),c(oe,{class:"relative",variant:x?"disabled":"default"},{default:_(()=>[p(Y,{priority:e.todo.priority},null,8,["priority"]),p(G,{modelValue:o(f),"onUpdate:modelValue":n[0]||(n[0]=l=>h(f)?f.value=l:null),todo:e.todo,"is-trash":e.isTrash,"is-completed":x,onOnCheck:n[1]||(n[1]=l=>t("onCheck",l))},null,8,["modelValue","todo","is-trash"]),o(f)?(a(),v("div",Ne,[p(Q,{modelValue:o(u),"onUpdate:modelValue":n[2]||(n[2]=l=>h(u)?u.value=l:null),"is-trash":e.isTrash,onOnTrash:n[3]||(n[3]=l=>t("onTrash")),onOnRestore:n[4]||(n[4]=l=>t("onRestore"))},null,8,["modelValue","is-trash"]),k("form",{class:"flex flex-col gap-4",onSubmit:n[12]||(n[12]=R(l=>t("onClickSubmit",o(i)),["prevent"]))},[k("div",Ue,[o(u)?(a(),c(J,{key:0,modelValue:o(i).title,"onUpdate:modelValue":n[5]||(n[5]=l=>o(i).title=l),placeholder:"タイトルを入力",class:"todo-title","error-message":o(m)["update-todo.title"]},null,8,["modelValue","error-message"])):(a(),c(V,{key:1,bold:""},{default:_(()=>[b(y(e.todo.title),1)]),_:1}))]),k("div",{class:M(["p-4 whitespace-pre-wrap",{"bg-slate-100":!x}])},[o(u)?(a(),c(Z,{key:0,modelValue:o(i).description,"onUpdate:modelValue":n[6]||(n[6]=l=>o(i).description=l),placeholder:"説明文を入力"},null,8,["modelValue"])):(a(),c(V,{key:1,size:"small",color:"secondary"},{default:_(()=>[b(y(e.todo.description??"説明文がありません"),1)]),_:1}))],2),k("div",null,[p(E,{label:"ステータス"},{default:_(()=>[o(u)?(a(),c(P,{key:0,modelValue:o(i).status_id,"onUpdate:modelValue":n[7]||(n[7]=l=>o(i).status_id=l),options:e.statuses},null,8,["modelValue","options"])):(a(),c(V,{key:1},{default:_(()=>[b(y(e.todo.status.name),1)]),_:1}))]),_:1}),p(E,{label:"優先度"},{default:_(()=>[o(u)?(a(),c(P,{key:0,modelValue:o(i).priority,"onUpdate:modelValue":n[8]||(n[8]=l=>o(i).priority=l),options:Object.values("PRIORITY"in T?T.PRIORITY:o(g)).map(l=>({id:l.value,name:l.label}))},null,8,["modelValue","options"])):(a(),c(V,{key:1,color:("formatPriorityColor"in T?T.formatPriorityColor:o(Ee))(e.todo.priority),bold:""},{default:_(()=>[b(y(("formatPriorityLabel"in T?T.formatPriorityLabel:o($e))(e.todo.priority)),1)]),_:1},8,["color"]))]),_:1}),p(E,{label:"リマインド"},{default:_(()=>[o(u)?$((a(),v("input",{key:0,"onUpdate:modelValue":n[9]||(n[9]=l=>o(i).reminder_at=l),type:"datetime-local",name:"reminder_at"},null,512)),[[I,o(i).reminder_at]]):(a(),c(V,{key:1},{default:_(()=>[b(y(e.todo.reminder_at??"未設定"),1)]),_:1}))]),_:1}),p(E,{label:"期日"},{default:_(()=>[o(u)?$((a(),v("input",{key:0,"onUpdate:modelValue":n[10]||(n[10]=l=>o(i).due_date=l),type:"datetime-local",name:"due_date"},null,512)),[[I,o(i).due_date]]):(a(),c(V,{key:1},{default:_(()=>[b(y(e.todo.due_date??"未設定"),1)]),_:1}))]),_:1})]),o(u)?(a(),c(ee,{key:0,modelValue:o(u),"onUpdate:modelValue":n[11]||(n[11]=l=>h(u)?u.value=l:null)},null,8,["modelValue"])):S("",!0)],32)])):S("",!0)]),_:1},8,["variant"])}}}),Fe=Object.assign(W,{__name:"TodoCard"});W.__docgenInfo={exportName:"default",displayName:"TodoCard",description:"",tags:{},props:[{name:"todo",required:!0,type:{name:"Todo"}},{name:"isTrash",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"statuses",required:!1,type:{name:"Array",elements:[{name:"Status"}]}}],events:[{name:"onClickSubmit",type:{names:["UpdateTodoRequest"]}},{name:"onCheck",type:{names:["boolean"]}},{name:"onTrash"},{name:"onRestore"}],sourceFiles:["/var/www/html/app/components/TodoCard/TodoCard.vue"]};const O={ASC:{value:"asc"},DESC:{value:"desc"}},De=[{label:"期日が近い順",sort:"due_date",direction:O.ASC.value},{label:"期日が遠い順",sort:"due_date",direction:O.DESC.value},{label:"優先度が高い順",sort:"priority",direction:O.DESC.value},{label:"優先度が低い順",sort:"priority",direction:O.ASC.value},{label:"新しい順",sort:"created_at",direction:O.DESC.value}];export{g as P,O as S,Fe as _,Be as a,De as b,ke as c};
